<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ .Title }}</title>
    <link rel="manifest" href="/manifest.json">

    <script>
        let deferredPrompt;

        window.addEventListener('beforeinstallprompt', (e) => {
            // Prevent the mini-infobar from appearing on mobile
            e.preventDefault();
            // Stash the event so it can be triggered later.
            deferredPrompt = e;
            console.log('beforeinstallprompt event was fired.');
        });

        window.addEventListener('appinstalled', (evt) => {
            console.log('WOZ Coins was installed');
        });

        if ('serviceWorker' in navigator) {
            window.addEventListener('load', function() {
                navigator.serviceWorker.register('/service-worker.js').then(function(registration) {
                    console.log('Service Worker registered with scope:', registration.scope);
                }, function(error) {
                    console.log('Service Worker registration failed:', error);
                });
            });
        }
    </script>

    <link rel="preload" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" as="style">
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet">
    <link rel="preload" href='https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css' as="style">
    <link href='https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css' rel='stylesheet' />
    <link rel="canonical" href="{{ .Permalink }}">
    <link href="{{ "css/main.css" | relURL }}" rel="stylesheet">
    <link rel="icon" href="{{ "favicon.ico" | relURL }}">

    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9883001954705974" crossorigin="anonymous"></script>

    <meta name="description" content="{{ if .Params.metaDescription }}{{ .Params.metaDescription }}{{ else }}{{ .Summary | plainify | htmlEscape }}{{ end }}">
    <meta property="og:title" content="{{ .Title }}">
    <meta property="og:description" content="{{ if .Params.metaDescription }}{{ .Params.metaDescription }}{{ else }}{{ .Summary | plainify | htmlEscape }}{{ end }}">
    <meta property="og:image" content="{{ if .Params.image }}{{ .Site.BaseURL }}{{ .Params.image }}{{ else }}{{ .Site.BaseURL }}/images/default-og-image.jpg{{ end }}">
    <meta property="og:url" content="{{ .Permalink }}">
    <meta property="og:type" content="article">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="{{ .Title }}">
    <meta name="twitter:description" content="{{ if .Params.metaDescription }}{{ .Params.metaDescription }}{{ else }}{{ .Summary | plainify | htmlEscape }}{{ end }}">
    <meta name="twitter:image" content="{{ if .Params.image }}{{ .Site.BaseURL }}{{ .Params.image }}{{ else }}{{ .Site.BaseURL }}/images/default-twitter-image.jpg{{ end }}">
</head>

<body>
    {{ partial "header.html" . }}
    <nav aria-label="breadcrumb">
        <ol class="breadcrumb bg-white shadow-sm">
            <li class="breadcrumb-item"><a href="/" class="text-decoration-none"><i class="bi bi-house-fill"></i> Home</a></li>
            {{ if .IsPage }}
            <li class="breadcrumb-item active" aria-current="page">{{ .Title }}</li>
            {{ end }}
        </ol>
    </nav>
    {{ block "main" . }}{{ end }}

    {{ partial "footer.html" . }}

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" defer></script>
</body>

</html>